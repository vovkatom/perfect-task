import{a as B,u as b,b as k,j as e,L as w,c as A,n as m,l as E,d as I,r as L,e as N,G as v}from"./index-f7f2356b.js";import{c as M,a as h,u as F,o as C,b as x}from"./userBoard-selectors-b6d84247.js";import{I as d,P as S}from"./InputError-1ed0d937.js";const q="_background_k3sp2_1",P="_mainBox_k3sp2_17",R="_authMenu_k3sp2_32",$="_authMenuButton_k3sp2_40",G="_selectedAuthMenuButton_k3sp2_51",T="_authControl_k3sp2_55",W="_authForm_k3sp2_68",D="_authInput_k3sp2_75",O="_authButton_k3sp2_90",s={background:q,mainBox:P,authMenu:R,authMenuButton:$,selectedAuthMenuButton:G,authControl:T,authForm:W,authInput:D,authButton:O},z=M().shape({email:h().email().required(),password:h().min(8).required(),name:h().required()}),H=({formClassName:r,inputClassName:t,buttonClassName:o})=>{var l,c,p;const u=B(),i=b(k),{register:a,handleSubmit:f,formState:{errors:n},reset:j}=F({resolver:C(z)}),_=async g=>{const y=await u(A(g));if(y.type==="auth/signup/fulfilled")return m.Notify.success("Welcome!");if(y.payload==="Email in use")return m.Notify.warning("This email is already in use. Please try using a different email address.");if(y.error)return m.Notify.failure("Oops... Something went wrong. Please,ry again later!");j()};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:f(_),className:r,autoComplete:"off",children:[e.jsx("input",{className:t,...a("name"),type:"text",placeholder:"Enter your name"}),e.jsx(d,{message:(l=n.name)==null?void 0:l.message}),e.jsx("input",{className:t,type:"email",placeholder:"Enter your email",...a("email")}),e.jsx(d,{message:(c=n.email)==null?void 0:c.message}),e.jsx(S,{className:t,register:a,placeholder:"Create a password"}),e.jsx(d,{message:(p=n.password)==null?void 0:p.message}),e.jsx("button",{className:o,type:"submit",children:i?e.jsx(w,{}):"Register Now"})]})})},J=M().shape({email:h().email().required(),password:h().required()}),K=({formClassName:r,inputClassName:t,buttonClassName:o})=>{var l,c;const u=B(),i=b(k),{register:a,handleSubmit:f,formState:{errors:n},reset:j}=F({resolver:C(J)}),_=async p=>{const g=await u(E(p));g.type==="auth/login/fulfilled"&&m.Notify.success("Welcome back!"),g.error&&m.Notify.failure("Invalid email, or password, or something went wrong. Try again, please."),j()};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:f(_),className:r,autoComplete:"off",children:[e.jsx("input",{className:t,type:"email",placeholder:"Enter your email",...a("email")}),e.jsx(d,{message:(l=n.email)==null?void 0:l.message}),e.jsx(S,{className:t,register:a,placeholder:"Enter a password"}),e.jsx(d,{message:(c=n.password)==null?void 0:c.message}),e.jsx("button",{className:o,type:"submit",children:i?e.jsx(w,{}):"Log In Now"})]})})},X=()=>{const{id:r}=I(),[t,o]=L.useState(r==="register"),u=x(s.authInput,s.authControl),i=x(s.authButton,s.authControl),a=t?H:K;return e.jsx(e.Fragment,{children:e.jsx("div",{className:s.background,children:e.jsxs("div",{className:s.mainBox,children:[e.jsxs("div",{className:s.authMenu,children:[e.jsx(N,{to:"/auth/register",children:e.jsx("button",{className:x(s.authMenuButton,t&&s.selectedAuthMenuButton),onClick:()=>{o(!0)},children:"Registration"})}),e.jsx(N,{to:"/auth/login",children:e.jsx("button",{className:x(s.authMenuButton,!t&&s.selectedAuthMenuButton),onClick:()=>{o(!1)},children:"Log In"})}),e.jsx(v,{})]}),e.jsx(a,{inputClassName:u,buttonClassName:i,formClassName:s.authForm})]})})})};export{X as A};
